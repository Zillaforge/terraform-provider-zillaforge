---
# generated by https://github.com/hashicorp/terraform-plugin-docs
page_title: "zillaforge_images Data Source - zillaforge"
subcategory: ""
description: |-
  Queries VM images (represented as repository:tag pairs) from the ZillaForge VRM service. Images can be filtered by repository name, exact tag name, or tag name pattern. Each image includes metadata such as size, operating system, status, and a unique ID used for VM creation.
---

# zillaforge_images (Data Source)

Queries VM images (represented as repository:tag pairs) from the ZillaForge VRM service. Images can be filtered by repository name, exact tag name, or tag name pattern. Each image includes metadata such as size, operating system, status, and a unique ID used for VM creation.

## Example Usage

```terraform
# Query specific image by repository and tag
data "zillaforge_images" "ubuntu_2204" {
  repository = "ubuntu"
  tag        = "22.04"
}

# Access the unique image
output "ubuntu_image_id" {
  value = data.zillaforge_images.ubuntu_2204.images[0].id
}

# List all tags for a repository
data "zillaforge_images" "ubuntu_all" {
  repository = "ubuntu"
}

# Find latest (first in deterministically sorted list)
output "ubuntu_images" {
  value = data.zillaforge_images.ubuntu_all.images
}

# Pattern matching for versioned tags
data "zillaforge_images" "v1_series" {
  repository  = "myapp"
  tag_pattern = "v1.*"
}

output "v1_images" {
  value = [
    for img in data.zillaforge_images.v1_series.images : {
      repo = img.repository_name
      tag  = img.tag_name
      id   = img.id
      size = img.size
    }
  ]
}

# Cross-repository search by tag name
data "zillaforge_images" "latest" {
  tag = "latest"
}

output "latest_images" {
  value = data.zillaforge_images.latest.images
}

# Filter by environment prefix
data "zillaforge_images" "production" {
  tag_pattern = "prod-*"
}

output "production_images" {
  value = data.zillaforge_images.production.images
}

# List all images (up to server limit of 1000)
data "zillaforge_images" "all" {
  # No filters specified
}

output "total_images" {
  value = length(data.zillaforge_images.all.images)
}

# Use image ID in VM resource
resource "zillaforge_vm" "web_server" {
  # Reference image ID from data source
  image_id = data.zillaforge_images.ubuntu_2204.images[0].id
  # ... other VM configuration ...
}
```

<!-- schema generated by tfplugindocs -->
## Schema

### Optional

- `repository` (String) Filter images by exact repository name (case-sensitive). When combined with `tag`, returns a single image. When used alone, returns all tags for the specified repository. Optional - omit to query across all repositories.
- `tag` (String) Filter images by exact tag name (case-sensitive). When combined with `repository`, returns a single image. When used alone, returns matching tags across all repositories. Mutually exclusive with `tag_pattern`. Optional - omit to list all tags (up to server limit).
- `tag_pattern` (String) Filter images by tag name pattern using glob-style wildcards (`*` matches any characters, `?` matches single character). Examples: `v1.*` matches all v1.x tags, `prod-*` matches tags starting with 'prod-'. Mutually exclusive with `tag`. Optional - omit for exact matching or no tag filtering.

### Read-Only

- `images` (Attributes List) List of images matching the filter criteria. Returns an empty list if no images match. Sorted deterministically by repository name then tag name. Maximum 1000 images returned (server-enforced limit). (see [below for nested schema](#nestedatt--images))

<a id="nestedatt--images"></a>
### Nested Schema for `images`

Read-Only:

- `description` (String) Human-readable description of the image repository. May be empty if no description is provided.
- `id` (String) Unique identifier for the image tag (UUID). This is the Tag object ID from the cloud-sdk, used to create virtual machines. Each repository:tag pair has a unique ID.
- `operating_system` (String) Operating system type for this image. Valid values: `linux`, `windows`.
- `repository_name` (String) Name of the repository containing this image tag. Repository names are unique within a project.
- `size` (Number) Image size in bytes. Includes manifest and layer sizes as reported by the VRM API.
- `status` (String) Current status of the image tag. Common values: `active` (ready for use), `queued`, `saving`, `creating`, `error`, `deleted`. Only `active` and `available` images are typically usable for VM creation.
- `tag_name` (String) Tag name or label for this image version. Examples: `latest`, `v1.0.0`, `prod-2024`, `ubuntu-22.04`. Tag names follow image repository naming conventions.
- `type` (String) Tag type classification. Valid values: `common` (standard image), `increase` (incremental image).

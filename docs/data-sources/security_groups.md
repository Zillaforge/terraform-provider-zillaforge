---
# generated by https://github.com/hashicorp/terraform-plugin-docs
page_title: "zillaforge_security_groups Data Source - zillaforge"
subcategory: ""
description: |-
  Queries existing security groups from ZillaForge VPS. Use this data source to retrieve security group details by ID or name, or to list all security groups in your project. Security groups returned include all ingress/egress rules and can be referenced in other resources.
---

# zillaforge_security_groups (Data Source)

Queries existing security groups from ZillaForge VPS. Use this data source to retrieve security group details by ID or name, or to list all security groups in your project. Security groups returned include all ingress/egress rules and can be referenced in other resources.

## Example Usage

```terraform
# Query security group by name
data "zillaforge_security_groups" "web" {
  name = "web-servers-prod"
}

# Access the security group (returns empty list if not found)
output "web_sg_id" {
  value = length(data.zillaforge_security_groups.web.security_groups) > 0 ? data.zillaforge_security_groups.web.security_groups[0].id : null
}

output "web_sg_rules" {
  value = length(data.zillaforge_security_groups.web.security_groups) > 0 ? {
    ingress = data.zillaforge_security_groups.web.security_groups[0].ingress_rule
    egress  = data.zillaforge_security_groups.web.security_groups[0].egress_rule
  } : null
}

# Query security group by ID
data "zillaforge_security_groups" "specific" {
  id = "sg-12345678-1234-1234-1234-123456789abc"
}

output "specific_sg_name" {
  value = data.zillaforge_security_groups.specific.security_groups[0].name
}

# List all security groups
data "zillaforge_security_groups" "all" {
  # No filters - lists all security groups
}

output "all_security_group_names" {
  value = [for sg in data.zillaforge_security_groups.all.security_groups : sg.name]
}

output "total_security_groups" {
  value = length(data.zillaforge_security_groups.all.security_groups)
}

# Use in resource configuration
# Query existing security group and reference in instance
data "zillaforge_security_groups" "shared_web" {
  name = "shared-web-servers"
}

# Reference in future instance resource (not yet implemented)
# resource "zillaforge_vps_instance" "app" {
#   name = "app-server-1"
#   # ... other attributes ...
#   
#   security_group_ids = [
#     data.zillaforge_security_groups.shared_web.security_groups[0].id
#   ]
# }
```

<!-- schema generated by tfplugindocs -->
## Schema

### Optional

- `id` (String) Optional filter to query a specific security group by ID (UUID format). Returns a single security group or errors if not found. **Mutually exclusive with `name`**.
- `name` (String) Optional filter to query security groups by exact name (case-sensitive match). Returns a list of matching security groups (typically 0 or 1 since names are unique per project). **Mutually exclusive with `id`**.

### Read-Only

- `security_groups` (Attributes List) List of security group objects matching the filter criteria. Empty list if no matches found (for name filter). Contains all security group attributes including ingress/egress rules. (see [below for nested schema](#nestedatt--security_groups))

<a id="nestedatt--security_groups"></a>
### Nested Schema for `security_groups`

Read-Only:

- `description` (String) Optional description providing context about the security group's purpose. Empty string if not set.
- `egress_rule` (Attributes List) Outbound firewall rules that control traffic FROM instances attached to this security group. (see [below for nested schema](#nestedatt--security_groups--egress_rule))
- `id` (String) Unique identifier for the security group (UUID format). Use this value to reference the security group in other resources.
- `ingress_rule` (Attributes List) Inbound firewall rules that control traffic TO instances attached to this security group. (see [below for nested schema](#nestedatt--security_groups--ingress_rule))
- `name` (String) Human-readable name for the security group. Unique within the project.

<a id="nestedatt--security_groups--egress_rule"></a>
### Nested Schema for `security_groups.egress_rule`

Read-Only:

- `destination_cidr` (String) Destination CIDR block for allowed outbound traffic. Examples: `0.0.0.0/0` (all IPv4), `10.0.0.0/8` (private network).
- `port_range` (String) Port specification. Formats: single port (`22`), port range (`8000-8100`), or `all` (equivalent to `1-65535`).
- `protocol` (String) Network protocol for this rule. Valid values: `tcp`, `udp`, `icmp`, `any`.
- `source_cidr` (String) Not used for egress rules. Always null.


<a id="nestedatt--security_groups--ingress_rule"></a>
### Nested Schema for `security_groups.ingress_rule`

Read-Only:

- `destination_cidr` (String) Not used for ingress rules. Always null.
- `port_range` (String) Port specification. Formats: single port (`22`), port range (`8000-8100`), or `all` (equivalent to `1-65535`).
- `protocol` (String) Network protocol for this rule. Valid values: `tcp`, `udp`, `icmp`, `any`.
- `source_cidr` (String) Source CIDR block for allowed inbound traffic. Examples: `0.0.0.0/0` (all IPv4), `192.168.1.0/24` (subnet).

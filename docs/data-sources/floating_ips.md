---
# generated by https://github.com/hashicorp/terraform-plugin-docs
page_title: "zillaforge_floating_ips Data Source - zillaforge"
subcategory: ""
description: |-
  Queries existing floating IPs (public IP addresses) from ZillaForge VPS. Use this data source to retrieve floating IP details by ID, name, IP address, or status. Returns a list of matching floating IPs, which can then be referenced in other resources. Supports client-side filtering with AND logic when multiple filters are specified.
---

# zillaforge_floating_ips (Data Source)

Queries existing floating IPs (public IP addresses) from ZillaForge VPS. Use this data source to retrieve floating IP details by ID, name, IP address, or status. Returns a list of matching floating IPs, which can then be referenced in other resources. Supports client-side filtering with AND logic when multiple filters are specified.

## Example Usage

```terraform
# Query floating IPs by name
data "zillaforge_floating_ips" "web_server" {
  name = "web-server-public-ip"
}

# Access the floating IP (returns empty list if not found)
output "web_fip_address" {
  description = "IP address of the web server floating IP"
  value       = length(data.zillaforge_floating_ips.web_server.floating_ips) > 0 ? data.zillaforge_floating_ips.web_server.floating_ips[0].ip_address : null
}

output "web_fip_id" {
  description = "ID of the web server floating IP"
  value       = length(data.zillaforge_floating_ips.web_server.floating_ips) > 0 ? data.zillaforge_floating_ips.web_server.floating_ips[0].id : null
}

# Query floating IP by ID
data "zillaforge_floating_ips" "specific" {
  id = "fip-12345678-1234-1234-1234-123456789abc"
}

output "specific_fip_details" {
  description = "Details of the specific floating IP"
  value = length(data.zillaforge_floating_ips.specific.floating_ips) > 0 ? {
    id         = data.zillaforge_floating_ips.specific.floating_ips[0].id
    name       = data.zillaforge_floating_ips.specific.floating_ips[0].name
    ip_address = data.zillaforge_floating_ips.specific.floating_ips[0].ip_address
    status     = data.zillaforge_floating_ips.specific.floating_ips[0].status
    device_id  = data.zillaforge_floating_ips.specific.floating_ips[0].device_id
  } : null
}

# Query floating IPs by IP address
data "zillaforge_floating_ips" "by_ip" {
  ip_address = "203.0.113.42"
}

output "fip_by_ip_found" {
  description = "Whether the specific IP address was found"
  value       = length(data.zillaforge_floating_ips.by_ip.floating_ips) > 0
}

# Query floating IPs by status
data "zillaforge_floating_ips" "active_ips" {
  status = "ACTIVE"
}

output "active_fip_count" {
  description = "Number of active floating IPs"
  value       = length(data.zillaforge_floating_ips.active_ips.floating_ips)
}

output "active_fip_addresses" {
  description = "List of active floating IP addresses"
  value       = [for fip in data.zillaforge_floating_ips.active_ips.floating_ips : fip.ip_address]
}

# Multiple filters (AND logic)
data "zillaforge_floating_ips" "web_active" {
  name   = "web-server-public-ip"
  status = "ACTIVE"
}

output "web_active_fip" {
  description = "Web server floating IP if active"
  value       = length(data.zillaforge_floating_ips.web_active.floating_ips) > 0 ? data.zillaforge_floating_ips.web_active.floating_ips[0] : null
}

# List all floating IPs
data "zillaforge_floating_ips" "all" {
  # No filters - lists all floating IPs
}

output "all_floating_ips" {
  description = "All floating IPs in the project"
  value = [for fip in data.zillaforge_floating_ips.all.floating_ips : {
    id         = fip.id
    name       = fip.name
    ip_address = fip.ip_address
    status     = fip.status
  }]
}

output "total_floating_ips" {
  description = "Total number of floating IPs"
  value       = length(data.zillaforge_floating_ips.all.floating_ips)
}
```

<!-- schema generated by tfplugindocs -->
## Schema

### Optional

- `id` (String) Optional filter to query a specific floating IP by ID (UUID format). Returns a list containing a single floating IP if found, or an empty list if not found.
- `ip_address` (String) Optional filter to query floating IPs by exact IP address (e.g., `203.0.113.42`). Returns a list containing a single floating IP if found.
- `name` (String) Optional filter to query floating IPs by exact name (case-sensitive match). Returns a list of matching floating IPs (typically 0 or 1).
- `status` (String) Optional filter to query floating IPs by status. Valid values: `ACTIVE`, `DOWN`, `PENDING`, `REJECTED`. Returns a list of all floating IPs with the specified status.

### Read-Only

- `floating_ips` (Attributes List) List of floating IP objects matching the filter criteria. Empty list if no matches found. Results are sorted by ID for deterministic ordering. (see [below for nested schema](#nestedatt--floating_ips))

<a id="nestedatt--floating_ips"></a>
### Nested Schema for `floating_ips`

Read-Only:

- `description` (String) Optional description providing context about the floating IP's purpose. May be empty if not set.
- `device_id` (String) ID of the device (VPS instance) this floating IP is associated with. Null or empty if not associated with any device. Association is managed outside Terraform.
- `id` (String) Unique identifier for the floating IP (UUID format). Use this value to reference the floating IP in other resources.
- `ip_address` (String) The public IP address (e.g., `203.0.113.42`). This is the actual IP that can be used for network connectivity.
- `name` (String) Human-readable name for the floating IP. May be empty if not set during allocation.
- `status` (String) Current status of the floating IP. Possible values: `ACTIVE` (ready for use), `DOWN` (unavailable), `PENDING` (being provisioned), `REJECTED` (allocation failed).
